"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{3220:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(9268),l=n(6394),a=n.n(l),s={src:"/_next/static/media/whiteLogo.d17bd8d1.png",height:768,width:750,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEVMaXHvv8v31tr//Pj67/b//vnoxPX68PXWUHDww9SqAAB/AMyeDNOiGtf/9fDxkX3mtt3jgJjVfMbraFbmm7bz5PzwzuXfhaaWdQD3AAAAGHRSTlMAaUVHWT5oNmlOAwpkdGhwkZWNgWlrWXP/VwIVAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAO0lEQVR4nDXLyQGAIAwAwQUSknih4NF/p350/gMzn/WSuy6A6d6lAiObpQJonPlQINJTNgE8rLn/deIFNTMBakzbrQgAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},i=n(6006);n(9902);var o=n(8202),c=n(2909);function u(e){let{json:t,newGame:n}=e;return(console.log(t),t.username)?(0,r.jsxs)("div",{className:"absolute top-0 left-0 z-10 flex gap-5 items-center justify-center flex-col w-full h-full bg-[rgba(0,0,0,0.75)] text-center font-extrabold",children:[(0,r.jsx)(o.P1,{className:"uppercase",translationPath:"memory/title"}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(o.P2,{translationPath:"memory/time",replace:[{placeholder:"%TIME%",val:t.duration}]}),(0,r.jsxs)("div",{className:"flex gap-5 justify-center",children:[(0,r.jsx)(o.P2,{translationPath:"memory/points/gain",replace:[{placeholder:"%GAINED_POINTS%",val:"+"+t.pointsGained}]}),(0,r.jsx)(o.P2,{children:"=>"}),(0,r.jsx)(o.P2,{translationPath:"memory/points/current",replace:[{placeholder:"%CURRENT_POINTS%",val:t.totalPoints}]})]}),(0,r.jsx)("button",{className:"cursor-none hover:underline text-center",onClick:n,children:(0,r.jsx)(o.P2,{translationPath:"memory/newGame"})})]})]}):(0,r.jsxs)("div",{className:"absolute top-0 left-0 z-10 flex gap-5 items-center justify-center flex-col w-full h-full bg-[rgba(0,0,0,0.75)] text-center font-extrabold",children:[(0,r.jsx)(o.P1,{className:"uppercase",translationPath:"memory/title"}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(o.P2,{translationPath:"memory/time",replace:[{placeholder:"%TIME%",val:t.duration}]}),(0,r.jsxs)("div",{className:"flex flax-col gap-5 justify-center",children:[(0,r.jsx)(o.P2,{children:"Seems like you're not logged in!"}),(0,r.jsx)(o.P2,{children:"Please, log-in to collect points and earn rewards!"})]}),(0,r.jsx)("button",{className:"cursor-none hover:underline text-center",onClick:n,children:(0,r.jsx)(o.P2,{translationPath:"memory/newGame"})})]})]})}function d(e){let{pos:t,img:n,active:l,onClick:o,won:c,reset:u}=e,[d,m]=(0,i.useState)(c?"visible":"hidden"),x=(0,i.useCallback)(()=>{"hidden"===d?m("visible"):m("hidden")},[d]);return(0,i.useEffect)(()=>{u&&m("hidden")},[u]),(0,r.jsx)("div",{className:"sm-hover:scale-[95%] transition-scale duration-150 ease-in",children:(0,r.jsxs)("div",{onClick:()=>{l&&!c&&(x(),o(t))},className:"relative w-[4.5rem] sm:w-[7rem] lg:w-[11.5rem] aspect-square border-[0.1rem] sm:border-[0.2rem] border-solid border-white transition-all duration-[500ms] ease-in",style:{transformStyle:"preserve-3d",transformOrigin:"center",transform:"".concat("visible"===d?"rotateY(-180deg)":"")},children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full text-center bg-black flex items-center justify-center",style:{backfaceVisibility:"hidden"},children:(0,r.jsx)("div",{className:"relative w-28 aspect-square",children:(0,r.jsx)(a(),{sizes:"100%",src:s,alt:"Logo",fill:!0})})}),(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full text-center  ".concat(c?"bg-green":"bg-red-500"," transition-all duration-150 ease-in"),style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:(0,r.jsx)(a(),{sizes:"100%",src:n,alt:"",fill:!0})})]})})}function m(){let e=(0,i.useRef)((0,c.a7)()),t=(0,i.useRef)(0),n=(0,i.useRef)(0),[l,a]=(0,i.useState)([]),[s,m]=(0,i.useState)([]),[x,f]=(0,i.useState)([]),[h,g]=(0,i.useState)([]),[j,v]=(0,i.useState)(!1),[p,b]=(0,i.useState)(!1),[A,N]=(0,i.useState)(null),[y,S]=(0,i.useState)(null),[w,P]=(0,i.useState)(!1),C=(0,i.useCallback)(()=>{let t=[];for(let n=0;n<e.current.length;n++)t.push({val:n,img:e.current[n]}),t.push({val:n,img:e.current[n]});let n=[];for(;t.length>0;){let e=Math.floor(Math.random()*t.length);n.push(t[e]),t.splice(e,1)}return n},[e]),O=(0,i.useCallback)(async()=>{t.current=0,m([]),f([]),g([]),v(!1),b(!1),a([]),P(!0),S(null),fetch("".concat("http://localhost:3500/","games/"),{credentials:"include",headers:{"Content-Type":"application/json"}}).then(e=>{if(200===e.status){e.json().then(e=>S(e.token));let t=C();a(t)}else console.error("Something went wrong. Cannot start the game")})},[C]);function k(e){0===t.current&&(t.current=Date.now()),v(!0),setTimeout(()=>{if(0===s.length){g([]);let t=[...s];t.push(e),m(t)}else if(1===s.length){if(s[0]!==e){if(l[s[0]].val===l[e].val){let e=[...x];e.push(l[s[0]]),f(e),e.length===l.length/2&&(n.current=Math.round((Date.now()-t.current)/10+Number.EPSILON)/100,b(!0))}else{let t=[s[0],e];g(t)}}m([])}else console.error("Game Error!");v(!1)},500)}return(0,i.useEffect)(()=>{let e=C();a(e)},[C]),(0,i.useEffect)(()=>{p&&(P(!1),fetch("".concat("http://localhost:3500/","games/"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({gameToken:y,gameType:"memory",gameDuration:n.current})}).then(e=>{200===e.status?e.json().then(e=>N((0,r.jsx)(u,{json:e,newGame:O}))):console.error("Something went wrong",e)}))},[p,y,O]),(0,r.jsxs)("div",{className:"relative bg-black",children:[(!y||!w)&&!p&&(0,r.jsx)("div",{className:"absolute z-10 top-0 left-0 w-full h-full bg-[rgba(0,0,0,0.8)] flex justify-center items-center",children:(0,r.jsx)("button",{onClick:O,className:"w-max h-max py-4 px-8 border-2 border-solid border-white rounded-xl bg-black hover:underline cursor-none",children:(0,r.jsx)(o.P1,{children:"START"})})}),p&&A,(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsx)("div",{className:"flex gap-1 flex-wrap max-w-[19rem]  sm:max-w-[29rem] lg:max-w-[47rem] justify-center items-center",children:l.map((e,t)=>(0,r.jsx)(d,{val:e.val,img:e.img,pos:t,won:function(e){for(let t=0;t<x.length;t++)if(x[t].val===e.val)return!0;return!1}(e),reset:!!h.includes(t),active:s.length<2&&!j,onClick:y?k:()=>{console.log("Not Game Token Found")}},t))})})})]})}},9902:function(e,t,n){n.r(t),n.d(t,{H1:function(){return i},H2:function(){return o},H2SP:function(){return c},H3:function(){return u},H4:function(){return d},H5:function(){return m},H6:function(){return x},H7:function(){return f},H8:function(){return h},H9:function(){return g}});var r=n(9268),l=n(2909),a=n(1805),s=n(6006);function i(e){let{style:t,className:n,children:i,translationPath:o,replace:c}=e,{lang:u,setLang:d}=(0,s.useContext)(a.Z);return(0,r.jsx)("div",{style:t,className:"".concat(n||""," text-[6.5rem] xl:text-[13rem] md:text-[8.5rem] leading-none transition-all duration-300 ease-in"),children:(0,l.S4)(i)?(0,l.O9)(o,u,c):i})}function o(e){let{style:t,className:n,children:i,translationPath:o,replace:c}=e,{lang:u,setLang:d}=(0,s.useContext)(a.Z);return(0,r.jsx)("div",{style:t,className:"".concat(n||""," text-[5rem] xl:text-[10rem] md:text-[6.5rem] leading-none transition-all duration-300 ease-in"),children:(0,l.S4)(i)?(0,l.O9)(o,u,c):i})}function c(e){let{style:t,className:n,children:i,translationPath:o,replace:c}=e,{lang:u,setLang:d}=(0,s.useContext)(a.Z);return(0,r.jsx)("div",{style:t,className:"".concat(n||""," text-[4rem] xl:text-[10rem] md:text-[6.5rem] leading-none transition-all duration-300 ease-in"),children:(0,l.S4)(i)?(0,l.O9)(o,u,c):i})}function u(e){let{style:t,className:n,children:i,translationPath:o,replace:c}=e,{lang:u,setLang:d}=(0,s.useContext)(a.Z);return(0,r.jsx)("div",{style:t,className:"".concat(n||""," text-[4rem] xl:text-[7.5rem] md:text-[5rem] leading-none transition-all duration-300 ease-in"),children:(0,l.S4)(i)?(0,l.O9)(o,u,c):i})}function d(e){let{style:t,className:n,children:i,translationPath:o,replace:c}=e,{lang:u,setLang:d}=(0,s.useContext)(a.Z);return(0,r.jsx)("div",{style:t,className:"".concat(n||""," text-[3.5rem] xl:text-[5.5rem] md:text-[4rem] leading-none transition-all duration-300 ease-in"),children:(0,l.S4)(i)?(0,l.O9)(o,u,c):i})}function m(e){let{style:t,className:n,children:i,translationPath:o,replace:c}=e,{lang:u,setLang:d}=(0,s.useContext)(a.Z);return(0,r.jsx)("div",{style:t,className:"".concat(n||""," text-[3rem] xl:text-[5rem] md:text-[3.5rem] leading-none transition-all duration-300 ease-in"),children:(0,l.S4)(i)?(0,l.O9)(o,u,c):i})}function x(e){let{style:t,className:n,children:i,translationPath:o,replace:c}=e,{lang:u,setLang:d}=(0,s.useContext)(a.Z);return(0,r.jsx)("div",{style:t,className:"".concat(n||""," text-[2.75rem] xl:text-[4rem] md:text-[3rem] leading-none transition-all duration-300 ease-in"),children:(0,l.S4)(i)?(0,l.O9)(o,u,c):i})}function f(e){let{style:t,className:n,children:i,translationPath:o,replace:c}=e,{lang:u,setLang:d}=(0,s.useContext)(a.Z);return(0,r.jsx)("div",{style:t,className:"".concat(n||""," text-[2.5rem] xl:text-[4rem] md:text-[2.75rem] leading-none transition-all duration-300 ease-in"),children:(0,l.S4)(i)?(0,l.O9)(o,u,c):i})}function h(e){let{style:t,className:n,children:i,translationPath:o,replace:c}=e,{lang:u,setLang:d}=(0,s.useContext)(a.Z);return(0,r.jsx)("div",{style:t,className:"".concat(n||""," text-[2.25rem] xl:text-[3.75rem] md:text-[2.5rem] leading-none transition-all duration-300 ease-in"),children:(0,l.S4)(i)?(0,l.O9)(o,u,c):i})}function g(e){let{style:t,className:n,children:i,translationPath:o,replace:c}=e,{lang:u,setLang:d}=(0,s.useContext)(a.Z);return(0,r.jsx)("div",{style:t,className:"".concat(n||""," text-[2rem] xl:text-[3.5rem] md:text-[2.25rem] leading-none transition-all duration-300 ease-in"),children:(0,l.S4)(i)?(0,l.O9)(o,u,c):i})}},8202:function(e,t,n){n.r(t),n.d(t,{P1:function(){return i},P1SP:function(){return o},P2:function(){return c},P3:function(){return u},P4:function(){return d}});var r=n(9268),l=n(2909),a=n(1805),s=n(6006);function i(e){let{style:t,className:n,children:i,translationPath:o,replace:c}=e,{lang:u,setLang:d}=(0,s.useContext)(a.Z);return(0,r.jsx)("div",{style:t,className:"".concat(n||""," text-[1.75rem] xl:text-[2.25rem] md:text-[2rem] leading-none transition-all duration-300 ease-in"),children:(0,l.S4)(i)?(0,l.O9)(o,u,c):i})}function o(e){let{style:t,className:n,children:i,translationPath:o,replace:c}=e,{lang:u,setLang:d}=(0,s.useContext)(a.Z);return(0,r.jsx)("div",{style:t,className:"".concat(n||""," text-[1.25rem] xl:text-[2.25rem] md:text-[2rem] leading-none transition-all duration-300 ease-in"),children:(0,l.S4)(i)?(0,l.O9)(o,u,c):i})}function c(e){let{style:t,className:n,children:i,translationPath:o,replace:c,spanStyling:u}=e,{lang:d,setLang:m}=(0,s.useContext)(a.Z);return(0,r.jsx)("div",{style:t,className:"".concat(n||""," text-[1.25rem] xl:text-[1.5rem] md:text-[1.375rem] leading-none transition-all duration-300 ease-in"),children:(0,l.S4)(i)?(0,s.cloneElement)((0,l.O9)(o,d,c),{style:u||{}}):i})}function u(e){let{style:t,className:n,children:i,translationPath:o,replace:c}=e,{lang:u,setLang:d}=(0,s.useContext)(a.Z);return(0,r.jsx)("div",{style:t,className:"".concat(n||""," text-[1.125rem] xl:text-[1.375rem] md:text-[1.25rem] leading-none transition-all duration-300 ease-in"),children:(0,l.S4)(i)?(0,l.O9)(o,u,c):i})}function d(e){let{style:t,className:n,children:i,translationPath:o,replace:c}=e,{lang:u,setLang:d}=(0,s.useContext)(a.Z);return(0,r.jsx)("div",{style:t,className:"".concat(n||""," text-[1rem] xl:text-[1.25rem] md:text-[1.125rem] leading-none transition-all duration-300 ease-in"),children:(0,l.S4)(i)?(0,l.O9)(o,u,c):i})}},1805:function(e,t,n){var r=n(6006);let l=(0,r.createContext)();t.Z=l}}]);